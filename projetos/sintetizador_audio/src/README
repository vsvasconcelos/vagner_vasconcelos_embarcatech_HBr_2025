# Projetos de Sistemas Embarcados - EmbarcaTech 2025
## Sintetizador de √Åudio na BitDogLab

Autor: Vagner Sanches Vasconcelos

Curso: Resid√™ncia Tecnol√≥gica em Sistemas Embarcados

Institui√ß√£o: EmbarcaTech - HBr

Campinas, 31 de mar√ßo de 2025

---
## Etapas
### Aquisi√ß√£o do sinal do microfone
- Foi implementado interrup√ß√£o no bot√£o A da BitDogLab de forma que quando detectada, ocorre a aquisi√ß√£o do sinal do microfone, com as seguintes caracter√≠sticas:
    - adc_set_clkdiv(96), o que equivale a uma frequ√™ncia do ADC de 1 MHz (48MHz/48);
    - Freq√™ncia de amostragem de aproximadamente: 10,4 kSPS (1 MHz/96);
    - 256 amostras (samples) coletadas por meio de DMA, sendo calculado o valor RMS destas.
   

### Armazenamento dos dados do ADC
- Criado buffer para armazenamento de 5000 pontos, que equivalem a aproximadamente 10 seg. de grava√ß√£o.
    - Cada um destes pontos √© o valor RMS armazenado na etapa de aquisi√ß√£o de sinais;
    - Cada um destes pontos sofreu ainda uma etapa de processamento antes de serem armazenados.

### Reprodu√ß√£o dos sinais gravados
- Foi implementado interrup√ß√£o no bot√£o B da BitDogLab de forma que quando detectada, ocorre a reprodu√ß√£o do sinal do microfone:
    - A reprodu√ß√£o ocorre por meio da utiliza√ß√£o da t√©cnica de PWM.

### Extras
- Foi implementado ainda feedback visual de ativa√ß√£o com a matriz de leds.

### V√≠deo de demonstra√ß√£o
[Sintetizador BitDoLab](https://youtube.com/shorts/1EEGPP6qZIU?feature=share)

### Refer√™ncias
[Insper](https://insper-embarcados.github.io/site/labs-expert/labs-expert-dsp-audio/);     
[BitDogLab-C](https://github.com/BitDogLab/BitDogLab-C/tree/main/microphone_dma);    
[pico-examples](https://github.com/raspberrypi/pico-examples/tree/master/adc/microphone_adc);   
[Playing audio files in a Pi Pico without a DAC](https://antirez.com/news/143);     
[PWM DAC](http://www.openmusiclabs.com/learning/digital/pwm-dac.1.html);    
[Playing with the Pico - 5 parts](https://gregchadwick.co.uk/blog/playing-with-the-pico-pt1/).    

---

## üìú Licen√ßa
GNU GPL-3.0.

